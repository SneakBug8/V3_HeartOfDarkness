namespace = fdi

fdi.1 = {
	type = country_event
	placement = ROOT

	title = neighbor_events.4.t
	desc = neighbor_events.4.d
	flavor = neighbor_events.4.f

	event_image = {
		video = "gfx/event_pictures/unspecific_signed_contract.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/signed_contract"

	icon = "gfx/interface/icons/event_icons/event_map.dds"

	duration = 3

	trigger = {
        }

        option = {
		default_option = yes
            name = neighbor_events.4.a
    
            if = {
                limit = {
                    scope:taker = {
                        investment_pool > 500 
                    }
                }
    
                scope:giver = {
                add_treasury = 500
                }
                scope:taker = {
                    add_investment_pool = -500
                }
            }
            else_if = {
                limit = { 
                scope:taker = {
                    gold_reserves > 500
                }
             }
             scope:giver = {
                add_treasury = 500
                }
                scope:taker = {
                    add_treasury = -500
                }
             }
             else = {
                change_relations = {
                    country = scope:target_country
                    value = -20
                }
             }
        }

	option = {
		name = can_aus.1.a

        scope:giver = {
		        remove_variable = giver
            }
        scope:taker = {
			remove_modifier = fdi_modifier
            remove_variable = taker
        }

        if = {
            limit = {
                scope:taker = {
                    investment_pool > 50500 
                }
            }

            scope:giver = {
		    add_treasury = 50500
            }
            scope:taker = {
                add_investment_pool = -50500
            }
        }
        else_if = {
            limit = { 
            scope:taker = {
                gold_reserves > 50500
            }
         }
         scope:giver = {
		    add_treasury = 50500
            }
            scope:taker = {
                add_treasury = -50500
            }
         }
         else = {
            change_relations = {
                country = scope:target_country
                value = -20
            }
         }
	}

    
}

fdi.2 = {
	type = country_event
	placement = ROOT

	title = neighbor_events.4.t
	desc = neighbor_events.4.d
	flavor = neighbor_events.4.f

	event_image = {
		video = "gfx/event_pictures/unspecific_signed_contract.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/signed_contract"

	icon = "gfx/interface/icons/event_icons/event_map.dds"

	duration = 3

	trigger = {
        is_player = no
        gold_reserves > gold_reserves_limit
		weekly_net_fixed_income > 0
        construction_queue_duration > 0
        has_wasted_construction = no
        }

        option = {
		default_option = yes
            name = neighbor_events.4.a

            random_scope_state = {
                create_building={
                    building="building_construction_sector"
                    level=1
                    reserves=1
                    activate_production_methods={ "pm_wooden_buildings" }
			    }
            }

		    add_treasury = -20000
        }


    
}

fdi.3 = {
	type = country_event
	placement = ROOT

    title = fdi.3.t

	event_image = {
		video = "gfx/event_pictures/unspecific_signed_contract.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/signed_contract"

	icon = "gfx/interface/icons/event_icons/event_map.dds"

	duration = 3

	trigger = {
        }

        option = {
            name = fdi.3.a

            random_state = {
                limit = {
                    owner = scope:occupier
                    state_region = scope:captured_state_region
                }
                save_scope_as = occupied
            }

		    create_diplomatic_play = {
					target_state = scope:occupied
					target_country = scope:occupier

					type = dp_return_state
            }
        }


        option = {
            name = fdi.3.b

        }
}


fdi.4 = {
	type = country_event
	placement = ROOT

	event_image = {
		video = "gfx/event_pictures/unspecific_signed_contract.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/signed_contract"

	icon = "gfx/interface/icons/event_icons/event_map.dds"

	duration = 3

	trigger = {
        year > 1850
        exists = c:JAP
        c:JAP = ROOT
        is_at_war = no
		is_diplomatic_play_committed_participant = no
		is_revolutionary = no
        is_player = no
        has_law = law_type:law_isolationism
        }

        option = {
            random_country = {
                limit = {
                    OR = {
                    c:GBR = THIS
                    c:USA = THIS
                    c:RUS = THIS
                    c:FRA = THIS
                    }
                    is_player = no
                    is_at_war = no
                    is_diplomatic_play_committed_participant = no
                    is_revolutionary = no
                }

                create_diplomatic_play = {
					target_country = c:JAP

					type = dp_open_market
                }
            }
        }
}


fdi.5 = {
	type = country_event
	hidden = yes

    immediate = {
				hidden = yes

            every_scope_state = {
                remove_modifier = wonderful_harvest
                remove_modifier = good_harvest
                remove_modifier = poor_harvest 
                remove_modifier = awful_harvest

                random_list = {
					10 = {
                        add_modifier = {
                            name = wonderful_harvest
                            months = 12
                        }
                    }
					40 = {
                        add_modifier = {
                            name = good_harvest
                            months = 12
                        }
                    }
					40 = {
                        add_modifier = {
                            name = poor_harvest
                            months = 12
                        }
                    }
					10 = {
                        add_modifier = {
                            name = awful_harvest
                            months = 12
                        }
                    }
				}
            }
            
        }
}
